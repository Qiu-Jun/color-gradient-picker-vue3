(function(n,_){typeof exports=="object"&&typeof module<"u"?module.exports=_(require("vue")):typeof define=="function"&&define.amd?define(["vue"],_):(n=typeof globalThis<"u"?globalThis:n||self,n["color-gradient-picker-vue3"]=_(n.Vue))})(this,function(n){"use strict";function _({red:o,green:t,blue:e,alpha:a}){let i,s,r,l=0,g;const p=o/255,d=t/255,u=e/255,c=Math.max(p,d,u),f=c-Math.min(p,d,u),h=m=>(c-m)/6/f+1/2;return f===0?(l=0,g=0):(g=f/c,i=h(p),s=h(d),r=h(u),p===c?l=r-s:d===c?l=1/3+i-r:u===c&&(l=2/3+s-i),l<0?l+=1:l>1&&(l-=1)),{hue:Math.round(l*360),saturation:Math.round(g*100),value:Math.round(c*100)}}function A(o){let t=1;const e=o/60;let a=t*(1-Math.abs(e%2-1));const i=0,s=255;let r=0,l=0,g=0;return t=(t+i)*s|0,a=(a+i)*s|0,e>=0&&e<1&&(r=t|0,l=a|0,g=i|0),e>=1&&e<2&&(r=a|0,l=t|0,g=i|0),e>=2&&e<3&&(r=i|0,l=t|0,g=a|0),e>=3&&e<4&&(r=i|0,l=a|0,g=t|0),e>=4&&e<5&&(r=a|0,l=i|0,g=t|0),e>=5&&e<=6&&(r=t|0,l=i|0,g=a|0),{red:r,green:l,blue:g}}function $(o){return typeof o=="number"&&Number.isNaN(o)===!1&&o>=0&&o<=255}function x(o,t,e,a){if($(o)&&$(t)&&$(e)){const i={red:o|0,green:t|0,blue:e|0,alpha:a|0};return $(a)===!0&&(i.alpha=a|0),i}}function V(o,t,e){e/=100;let i=t/100*e;const s=o/60;let r=i*(1-Math.abs(s%2-1)),l=e-i;const g=255,p=0;return i=(i+l)*g|0,r=(r+l)*g|0,l=l*g|0,s>=1&&s<2?x(r,i,l,p):s>=2&&s<3?x(l,i,r,p):s>=3&&s<4?x(l,r,i,p):s>=4&&s<5?x(r,l,i,p):s>=5&&s<=6?x(i,l,r,p):x(i,r,l,p)}function w(o,t,e,a,i){o>a&&(o=a),t>e&&(t=e),o<0&&(o=0),t<0&&(t=0);const s=100-t*100/e|0,r=o*100/a|0;return{...V(i,r,s),saturation:r,value:s}}function S(o,t,e,a){let i=360*o/t|0;return i=i<0?0:i>360?360:i,{...V(i,e,a),hue:i}}function G(o,t){return o=Number((o/t).toFixed(2)),o>1?1:o<0?0:o}function F(o,t,e){let a=o.toString(16),i=t.toString(16),s=e.toString(16);return o<16&&(a=`0${a}`),t<16&&(i=`0${i}`),e<16&&(s=`0${s}`),a+i+s}const X=/(^#{0,1}[0-9A-F]{6}$)|(^#{0,1}[0-9A-F]{3}$)|(^#{0,1}[0-9A-F]{8}$)/i;function T(o){if(X.test(o)){if(o[0]==="#"&&(o=o.slice(1,o.length)),o.length<6)return;const e=parseInt(o.substring(0,2),16)||0,a=parseInt(o.substring(2,4),16)||0,i=parseInt(o.substring(4,6),16)||0,s=parseInt(o.substring(6,10),16)/255||0,r=x(e,a,i,s),l=r&&_({...r});return{...r,...l}}return!1}function H(o,t){const e=o*100/t;return e<0?0:e>100?100:e}function L(o,t,e,a){return Math.atan2(o-e,t-a)*(180/Math.PI)*-1+180}function C(o,t){return!o&&o!==0?t:o}function R(o,t,e,a){return`rgba(${o}, ${t}, ${e}, ${a})`}function E(o,t,e){let a="";const i=o.slice();return i.sort((s,r)=>s.left-r.left),t==="linear"?a=`linear-gradient(${e}deg,`:a="radial-gradient(",i.forEach((s,r)=>{a+=`rgba(${s.red}, ${s.green}, ${s.blue}, ${s.alpha}) ${s.left}%`,r!==i.length-1&&(a+=",")}),a+=")",a}function N(o,t,e){return function(i){let s=o(i);function r(l){s=t(l,s)||s}window.addEventListener("mousemove",r),window.addEventListener("mouseup",l=>{window.removeEventListener("mousemove",r),e&&e(l,s)},{once:!0})}}const z={class:"picking-area-overlay1"},Y={class:"picking-area-overlay2"},O=n.defineComponent({name:"Picker"}),U=n.defineComponent({...O,props:{red:Number,green:Number,blue:Number,alpha:Number,hue:Number,saturation:Number,value:Number,updateColor:Function},setup(o){const t=o,e=n.ref(null),a=n.reactive({width:0,height:0,mouseEvents:()=>!1}),i=n.computed(()=>(t.saturation*a.width/100|0)-6),s=n.computed(()=>(a.height-t.value*a.height/100|0)-6),r=n.computed(()=>({backgroundColor:`rgb(${t.red}, ${t.green}, ${t.blue})`,left:`${i.value}px`,top:`${s.value}px`})),l=n.computed(()=>{const{red:c,green:f,blue:h}=A(t.hue);return{backgroundColor:`rgb(${c}, ${f}, ${h})`}}),g=c=>{const f=e==null?void 0:e.value;if(!f)return;const{x:h,y:m}=f.getBoundingClientRect(),b=c.pageX,k=c.pageY,y=b-h,P=k-m,Re=w(y,P,a.height,a.width,t.hue);return t.updateColor(Re,"onStartChange"),{startX:b,startY:k,positionX:y,positionY:P}},p=(c,{startX:f,startY:h,positionX:m,positionY:b})=>{const k=c.pageX-f,y=c.pageY-h;m+=k,b+=y;const P=w(m,b,a.height,a.width,t.hue);return{positions:{positionX:m,positionY:b,startX:c.pageX,startY:c.pageY},color:P}},d=(c,{startX:f,startY:h,positionX:m,positionY:b})=>{const{positions:k,color:y}=p(c,{startX:f,startY:h,positionX:m,positionY:b});return t.updateColor(y,"onChange"),k},u=(c,{startX:f,startY:h,positionX:m,positionY:b})=>{const{positions:k,color:y}=p(c,{startX:f,startY:h,positionX:m,positionY:b});return t.updateColor(y,"onEndChange"),k};return n.onMounted(()=>{const c=e==null?void 0:e.value;c&&(a.width=c.clientWidth,a.height=c.clientHeight),a.mouseEvents=N(g,d,u)}),(c,f)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"pickerAreaRef",ref:e,class:"picking-area",style:n.normalizeStyle(n.unref(l)),onMousedown:f[0]||(f[0]=(...h)=>a.mouseEvents&&a.mouseEvents(...h))},[n.createElementVNode("div",z,[n.createElementVNode("div",Y,[n.createElementVNode("div",{class:"picker-pointer",style:n.normalizeStyle(n.unref(r))},null,4)])])],36))}}),j={class:"preview-area"},v=n.defineComponent({name:"PickerPreView"}),W=n.defineComponent({...v,props:{isGradient:{type:Boolean,default:!1},red:{default:255},green:{default:0},blue:{default:0},alpha:{default:1},points:{default:()=>[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]},gradientDegree:{default:0},gradientType:{default:""}},setup(o){const t=o,e=n.computed(()=>{let a="";return t.isGradient?(a=E(t.points,t.gradientType,t.gradientDegree),{background:a}):(a=R(t.red,t.green,t.blue,t.alpha),{backgroundColor:a})});return(a,i)=>(n.openBlock(),n.createElementBlock("div",j,[n.createElementVNode("div",{class:"preview-box",style:n.normalizeStyle(n.unref(e))},null,4)]))}}),q=n.defineComponent({name:"Hue"}),J=n.defineComponent({...q,props:{hue:Number,saturation:Number,value:Number,updateColor:Function},setup(o){const t=o,e=n.ref(null),a=n.reactive({width:0,mouseEvents:()=>!1}),i=n.computed(()=>(t.hue*a.width/360|0)-6),s=n.computed(()=>({left:`${i.value}px`})),r=d=>{const u=d.currentTarget.getBoundingClientRect().x,c=d.pageX,f=c-u,h=S(f,a.width,t.saturation,t.value);return t.updateColor(h,"onStartChange"),{startX:c,positionX:f}},l=(d,{startX:u,positionX:c})=>{const f=d.pageX-u;c+=f;const h=c>a.width?a.width:c<=0?0:c,m=S(h,a.width,t.saturation,t.value);return{positions:{positionX:c,startX:d.pageX},color:m}},g=(d,{startX:u,positionX:c})=>{const{positions:f,color:h}=l(d,{startX:u,positionX:c});return t.updateColor(h,"onChange"),f},p=(d,{startX:u,positionX:c})=>{const{positions:f,color:h}=l(d,{startX:u,positionX:c});return t.updateColor(h,"onEndChange"),f};return n.onMounted(()=>{e.value&&(a.width=e.value.clientWidth),a.mouseEvents=N(r,g,p)}),(d,u)=>(n.openBlock(),n.createElementBlock("div",{class:"hue",onMousedown:u[0]||(u[0]=(...c)=>a.mouseEvents&&a.mouseEvents(...c))},[n.createElementVNode("div",{ref_key:"hueRef",ref:e,class:"hue-area"},[n.createElementVNode("div",{class:"picker-pointer",style:n.normalizeStyle(n.unref(s))},null,4)],512)],32))}}),K={class:"alpha-area"},Q=n.defineComponent({name:"alpha"}),Z=n.defineComponent({...Q,props:{red:Number,green:Number,blue:Number,alpha:Number,updateColor:Function},setup(o){const t=o,e=n.ref(null),a=n.reactive({width:0,mouseEvents:()=>!1}),i=n.computed(()=>(t.alpha*a.width|0)-6),s=n.computed(()=>({left:`${i.value}px`})),r=n.computed(()=>({background:`linear-gradient(to right, rgba(0, 0, 0, 0), rgb(${t.red}, ${t.green}, ${t.blue}))`})),l=u=>{const c=u.currentTarget.getBoundingClientRect().x,f=u.pageX,h=f-c;return t.updateColor({alpha:G(h,a.width)},"onStartChange"),{startX:f,positionX:h}},g=(u,{startX:c,positionX:f})=>{const h=u.pageX-c;f+=h;const m=G(f,a.width);return{positions:{positionX:f,startX:u.pageX},alpha:m}},p=(u,{startX:c,positionX:f})=>{const{positions:h,alpha:m}=g(u,{startX:c,positionX:f});return t.updateColor({alpha:m},"onChange"),h},d=(u,{startX:c,positionX:f})=>{const{positions:h,alpha:m}=g(u,{startX:c,positionX:f});return t.updateColor({alpha:m},"onEndChange"),h};return n.onMounted(()=>{const u=e.value;u&&(a.width=u.clientWidth),a.mouseEvents=N(l,p,d)}),(u,c)=>(n.openBlock(),n.createElementBlock("div",{class:"alpha",onMousedown:c[0]||(c[0]=(...f)=>a.mouseEvents&&a.mouseEvents(...f))},[n.createElementVNode("div",{class:"gradient",style:n.normalizeStyle(n.unref(r))},null,4),n.createElementVNode("div",K,[n.createElementVNode("div",{ref_key:"alphaMaskRef",ref:e,class:"alpha-mask"},[n.createElementVNode("div",{class:"picker-pointer",style:n.normalizeStyle(n.unref(s))},null,4)],512)])],32))}}),ee=n.defineComponent({name:"GradientPoint"}),te=n.defineComponent({...ee,props:{point:Object,activePointIndex:Number,index:Number,width:Number,positions:Object,changeActivePointIndex:Function,updateGradientLeft:Function,removePoint:Function},setup(o){const t=o,e=n.reactive({mouseEvents:()=>!1}),a=n.computed(()=>t.activePointIndex===t.index?" active":""),i=n.computed(()=>({left:`${t.point.left*(t.width/100)-6}px`})),s=p=>{t.changeActivePointIndex(t.index);const d=p.pageX,u=p.pageY,c=d-t.positions.x;return t.updateGradientLeft(t.point.left,t.index,"onStartChange"),{startX:d,startY:u,offsetX:c}},r=(p,{startX:d,offsetX:u})=>{const c=p.pageX-d;u+=c;const f=H(u,t.width);return{positions:{offsetX:u,startX:p.pageX},left:f}},l=(p,{startX:d,offsetX:u})=>{const{positions:c,left:f}=r(p,{startX:d,offsetX:u});return t.updateGradientLeft(f,t.index,"onChange"),c},g=(p,{startX:d,offsetX:u})=>{const{positions:c,left:f}=r(p,{startX:d,offsetX:u});return t.updateGradientLeft(f,t.index,"onEndChange"),c};return n.onMounted(()=>{e.mouseEvents=N(s,l,g)}),(p,d)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(`picker-pointer${n.unref(a)}`),style:n.normalizeStyle(n.unref(i)),onMousedown:d[0]||(d[0]=(...u)=>e.mouseEvents&&e.mouseEvents(...u)),onDblclick:d[1]||(d[1]=()=>t.removePoint(o.index)),onClick:d[2]||(d[2]=n.withModifiers(()=>{},["stop"]))},[n.createElementVNode("span",{class:n.normalizeClass(`child-point${n.unref(a)}`)},null,2)],38))}}),ne=n.defineComponent({name:"GradientPoints"}),oe=n.defineComponent({...ne,props:{points:Array,activePointIndex:Number,changeActivePointIndex:Function,updateGradientLeft:Function,addPoint:Function,removePoint:Function},setup(o){const t=o,e=n.ref(null),a=n.reactive({width:0,positions:{x:0,y:0}}),i=n.computed(()=>({background:E(t.points,"linear",90)})),s=r=>{const l=H(r.pageX-a.positions.x,a.width);t.addPoint(l)};return n.onMounted(()=>{const r=e.value;if(r){a.width=r.clientWidth;const l=r.getBoundingClientRect();a.positions={x:l.x,y:l.y}}}),(r,l)=>(n.openBlock(),n.createElementBlock("div",{class:"gradient",style:n.normalizeStyle(n.unref(i)),onClick:s},[n.createElementVNode("div",{ref_key:"pointsContainerRef",ref:e,class:"gradient-slider-container"},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(t.points,(g,p)=>(n.openBlock(),n.createBlock(te,{key:p,"active-point-index":t.activePointIndex,index:p,point:g,width:a.width,positions:a.positions,"change-active-point-index":t.changeActivePointIndex,"update-gradient-left":o.updateGradientLeft,"remove-point":t.removePoint},null,8,["active-point-index","index","point","width","positions","change-active-point-index","update-gradient-left","remove-point"]))),128))],512)],4))}}),ae={class:"picker-area"},re={class:"preview"},le={class:"color-hue-alpha"},ie=n.defineComponent({name:"ColorPicker"}),I=n.defineComponent({...ie,props:{isGradient:Boolean,red:Number,green:Number,blue:Number,alpha:Number,hue:Number,saturation:Number,value:Number,updateColor:Function,points:Array,degree:Number,type:String,activePointIndex:Number,changeGradientControl:Function,changeActivePointIndex:Function,updateGradientLeft:Function,addPoint:Function,removePoint:Function},setup(o){return(t,e)=>(n.openBlock(),n.createElementBlock("div",ae,[n.createVNode(U,{red:o.red,green:o.green,blue:o.blue,hue:o.hue,saturation:o.saturation,value:o.value,"update-color":o.updateColor},null,8,["red","green","blue","hue","saturation","value","update-color"]),o.isGradient?(n.openBlock(),n.createBlock(oe,{key:0,type:o.type,degree:o.degree,points:o.points,"active-point-index":o.activePointIndex,"change-active-point-index":o.changeActivePointIndex,"update-gradient-left":o.updateGradientLeft,"add-point":o.addPoint,"remove-point":o.removePoint},null,8,["type","degree","points","active-point-index","change-active-point-index","update-gradient-left","add-point","remove-point"])):n.createCommentVNode("",!0),n.createElementVNode("div",re,[n.createVNode(W,{red:o.red,green:o.green,blue:o.blue,alpha:o.alpha,"is-gradient":o.isGradient,points:o.points,"gradient-degree":o.degree,"gradient-type":o.type},null,8,["red","green","blue","alpha","is-gradient","points","gradient-degree","gradient-type"]),n.createElementVNode("div",le,[n.createVNode(J,{hue:o.hue,saturation:o.saturation,value:o.value,"update-color":o.updateColor},null,8,["hue","saturation","value","update-color"]),n.createVNode(Z,{alpha:o.alpha,red:o.red,green:o.green,blue:o.blue,"update-color":o.updateColor},null,8,["alpha","red","green","blue","update-color"])])])]))}}),ce={class:"input-container"},se={class:"label"},de=n.defineComponent({name:"Input"}),ue=n.defineComponent({...de,props:{value:{default:""},label:{default:""},type:{default:"text"},classes:{default:""},onFocus:{type:Function,default:()=>!1},onBlur:{type:Function,default:()=>!1}},emits:["input","update:value"],setup(o,{emit:t}){const e=o,a=n.computed({get:()=>e.value,set:s=>t("update:value",s)}),i=s=>{t("input",s)};return(s,r)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(`input-field ${e.classes}`)},[n.createElementVNode("div",ce,[n.withDirectives(n.createElementVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>n.isRef(a)?a.value=l:null),class:n.normalizeClass(`${e.type}-input input`),onFocus:r[1]||(r[1]=(...l)=>e.onFocus&&e.onFocus(...l)),onBlur:r[2]||(r[2]=(...l)=>e.onBlur&&e.onBlur(...l)),onInput:i},null,34),[[n.vModelText,n.unref(a)]])]),n.createElementVNode("div",se,n.toDisplayString(o.label),1)],2))}}),Ie="",M=((o,t)=>{const e=o.__vccOpts||o;for(const[a,i]of t)e[a]=i;return e})(ue,[["__scopeId","data-v-3d2a573b"]]),pe=n.defineComponent({name:"Preview"}),ge=n.defineComponent({...pe,props:{red:{default:0},green:{default:0},blue:{default:0},alpha:null,updateColor:{type:Function,default:o=>!1}},setup(o){const t=o,e=n.reactive({hexValue:F(t.red,t.green,t.blue)}),a=n.computed(()=>F(t.red,t.green,t.blue)),i=()=>{a.value.length===6&&(e.hexValue=a.value)},s=r=>{const l=T(r.target.value);l&&t.updateColor(l)};return n.watch(()=>[t.red,t.green,t.blue],()=>i()),(r,l)=>(n.openBlock(),n.createBlock(M,{value:e.hexValue,label:"hex",classes:"hex",onInput:s},null,8,["value"]))}}),fe=n.defineComponent({name:"RGBItem"}),B=n.defineComponent({...fe,props:{value:null,type:{default:"text"},label:{default:""},onChange:{type:Function,default:o=>!1}},setup(o){const t=o,e=n.getCurrentInstance(),a=n.reactive({inputValue:t.value||0,inProgress:!1}),i=()=>{t.value!==+a.inputValue&&a.inputValue!==""&&(a.inputValue=t.value)},s=l=>{var p;const g=+l.target.value;if(Number.isNaN(g)||g<0||g>255){a.inputValue=t.value,(p=e==null?void 0:e.proxy)==null||p.$forceUpdate();return}a.inputValue=l.target.value,t.onChange(g)},r=()=>{a.inputValue||(a.inputValue=t.value),a.inProgress=!1};return n.watch(()=>t.value,()=>i()),(l,g)=>(n.openBlock(),n.createElementBlock("div",null,[n.createVNode(M,{value:a.inputValue,type:t.type,label:t.label,"on-focus":()=>a.inProgress=!0,"on-blur":r,"in-progress":a.inProgress,classes:"rgb",onInput:s},null,8,["value","type","label","on-focus","in-progress"])]))}}),he=n.defineComponent({name:"RGB"}),me=n.defineComponent({...he,props:{red:{default:0},green:{default:0},blue:{default:0},alpha:{default:0},updateColor:{type:Function,default:()=>!1}},setup(o){const t=o,e=(a,i)=>{if(a==="alpha"){t.updateColor({alpha:i/100});return}const s=_({red:t.red,green:t.green,blue:t.blue,[a]:i});t.updateColor({...s,[a]:i})};return(a,i)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(B,{value:t.red,type:"number",label:"R","on-change":s=>e("red",s)},null,8,["value","on-change"]),n.createVNode(B,{value:t.green,type:"number",label:"G","on-change":s=>e("green",s)},null,8,["value","on-change"]),n.createVNode(B,{value:t.blue,type:"number",label:"B","on-change":s=>e("blue",s)},null,8,["value","on-change"]),n.createVNode(B,{value:~~t.alpha*100,type:"number",label:"Alpha","on-change":s=>e("alpha",s)},null,8,["value","on-change"])],64))}}),Ce={class:"color-preview-area"},be={class:"input-group"},ye=n.defineComponent({name:"Preview"}),D=n.defineComponent({...ye,props:{red:{default:0},green:{default:0},blue:{default:0},alpha:{default:0},updateColor:{type:Function,default:o=>!1}},setup(o){const t=o;return(e,a)=>(n.openBlock(),n.createElementBlock("div",Ce,[n.createElementVNode("div",be,[n.createVNode(ge,{red:t.red,green:t.green,blue:t.blue,"update-color":t.updateColor},null,8,["red","green","blue","update-color"]),n.createVNode(me,{red:t.red,green:t.green,blue:t.blue,alpha:t.alpha,"update-color":t.updateColor},null,8,["red","green","blue","alpha","update-color"])])]))}}),ke=n.defineComponent({name:"Solid"}),_e=n.defineComponent({...ke,props:{red:{default:255},green:{default:0},blue:{default:0},alpha:{default:1},hue:{default:0},saturation:{default:0},value:{default:0},onStartChange:{type:Function,default:()=>!1},onChange:{type:Function,default:()=>!1},onEndChange:{type:Function,default:()=>!1}},setup(o){const t=o,e=n.reactive({colorRed:t.red,colorGreen:t.green,colorBlue:t.blue,colorAlpha:t.alpha,colorHue:0,colorSaturation:100,colorValue:100,actions:{onStartChange:t.onStartChange,onChange:t.onChange,onEndChange:t.onEndChange}}),a=n.computed(()=>t.hue===void 0||t.saturation===void 0||t.value===void 0?_({red:t.red,green:t.green,blue:t.blue}):{hue:t.hue,saturation:t.saturation,value:t.value}),i=n.computed(()=>({red:t.red,green:t.green,blue:t.blue,alpha:t.alpha}));n.watch(()=>a.value,r=>{const{hue:l,saturation:g,value:p}=r;e.colorHue=l,e.colorSaturation=g,e.colorValue=p}),n.watch(()=>i.value,r=>{const{red:l,green:g,blue:p,alpha:d}=r;e.colorRed=l,e.colorGreen=g,e.colorBlue=p,e.colorAlpha=d});const s=({red:r,green:l,blue:g,alpha:p,hue:d,saturation:u,value:c},f="onChange")=>{r=C(r,e.colorRed),l=C(l,e.colorGreen),g=C(g,e.colorBlue),p=C(p,e.colorAlpha),d=C(d,e.colorHue),u=C(u,e.colorSaturation),c=C(c,e.colorValue),e.colorRed=r,e.colorGreen=l,e.colorBlue=g,e.colorAlpha=p,e.colorHue=d,e.colorSaturation=u,e.colorValue=c;const h=e.actions[f];h&&h({red:r,green:l,blue:g,alpha:p,hue:d,saturation:u,value:c,style:R(r,l,g,p)})};return n.onMounted(()=>{const{hue:r,saturation:l,value:g}=_({red:e.colorRed,green:e.colorGreen,blue:e.colorBlue});e.colorHue=r,e.colorSaturation=l,e.colorValue=g}),(r,l)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(I,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,hue:e.colorHue,saturation:e.colorSaturation,value:e.colorValue,"update-color":s,"is-gradient":!1},null,8,["red","green","blue","alpha","hue","saturation","value"]),n.createVNode(D,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,"update-color":s},null,8,["red","green","blue","alpha"])],64))}}),xe={class:"gradient-controls"},Ee={class:"gradient-type"},Pe={key:0,class:"gradient-degrees-options"},Ne=[n.createElementVNode("div",{class:"gradient-degree-pointer"},null,-1)],$e={class:"gradient-degree-value"},Be=n.defineComponent({name:"GradientControls"}),Ve=n.defineComponent({...Be,props:{type:String,degree:Number,changeGradientControl:{type:Function,default:()=>!1}},setup(o){const t=o,e=n.reactive({disableClick:!1,mouseEvents:()=>!1}),a=n.computed(()=>({transform:`rotate(${t.degree}deg)`})),i=g=>{const d=g.target.getBoundingClientRect(),u=~~(8-window.pageYOffset)+d.top,c=~~(8-window.pageXOffset)+d.left;return{centerY:u,centerX:c}},s=(g,{centerX:p,centerY:d})=>{e.disableClick=!0;const u=L(g.clientX,g.clientY,p,d);t.changeGradientControl({degree:~~u})},r=g=>{const p=g.target.classList;p.contains("gradient-degrees")||p.contains("icon-rotate")||(e.disableClick=!1)},l=()=>{if(e.disableClick){e.disableClick=!1;return}let g=(t.degree||0)+45;g>=360&&(g=0),t.changeGradientControl({degree:~~g})};return n.onMounted(()=>{e.mouseEvents=N(i,s,r)}),(g,p)=>(n.openBlock(),n.createElementBlock("div",xe,[n.createElementVNode("div",Ee,[n.createElementVNode("div",{class:n.normalizeClass(`gradient-type-item liner-gradient ${t.type==="linear"?"active":""}`),onClick:p[0]||(p[0]=()=>o.changeGradientControl({type:"linear"}))},null,2),n.createElementVNode("div",{class:n.normalizeClass(`gradient-type-item radial-gradient ${t.type==="radial"?"active":""}`),onClick:p[1]||(p[1]=()=>o.changeGradientControl({type:"radial"}))},null,2)]),t.type==="linear"?(n.openBlock(),n.createElementBlock("div",Pe,[n.createElementVNode("div",{class:"gradient-degrees",onMousedown:p[2]||(p[2]=(...d)=>e.mouseEvents&&e.mouseEvents(...d)),onClick:l},[n.createElementVNode("div",{class:"gradient-degree-center",style:n.normalizeStyle(n.unref(a))},Ne,4)],32),n.createElementVNode("div",$e,[n.createElementVNode("p",null,n.toDisplayString(t.degree)+"°",1)])])):n.createCommentVNode("",!0)]))}}),we=n.defineComponent({name:"Gradient"}),Se=n.defineComponent({...we,props:{type:{default:"linear"},degree:{default:0},points:{default:()=>[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]},onStartChange:{type:Function,default:()=>!1},onChange:{type:Function,default:()=>!1},onEndChange:{type:Function,default:()=>!1}},setup(o){const t=o,e=n.reactive({activePointIndex:0,gradientPoints:t.points,activePoint:t.points[0],colorRed:t.points[0].red,colorGreen:t.points[0].green,colorBlue:t.points[0].blue,colorAlpha:t.points[0].alpha,colorHue:0,colorSaturation:100,colorValue:100,gradientType:t.type,gradientDegree:t.degree,actions:{onStartChange:t.onStartChange,onChange:t.onChange,onEndChange:t.onEndChange}}),a=(d=e.activePointIndex)=>{e.gradientPoints.length<=2||(e.gradientPoints.splice(d,1),d>0&&(e.activePointIndex=d-1),t.onChange&&t.onChange({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)}))},i=d=>{(d.keyCode===46||d.keyCode===8)&&a(e.activePointIndex)},s=d=>{e.activePointIndex=d,e.activePoint=e.gradientPoints[d];const{red:u,green:c,blue:f,alpha:h}=e.activePoint;e.colorRed=u,e.colorGreen=c,e.colorBlue=f,e.colorAlpha=h;const{hue:m,saturation:b,value:k}=_({red:u,green:c,blue:f});e.colorHue=m,e.colorSaturation=b,e.colorValue=k},r=({type:d,degree:u})=>{d=C(d,e.gradientType),u=C(u,e.gradientDegree),e.gradientType=d,e.gradientDegree=u,t.onChange({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)})},l=({red:d,green:u,blue:c,alpha:f,hue:h,saturation:m,value:b},k="onChange")=>{d=C(d,e.colorRed),u=C(u,e.colorGreen),c=C(c,e.colorBlue),f=C(f,e.colorAlpha),h=C(h,e.colorHue),m=C(m,e.colorSaturation),b=C(b,e.colorValue);const y=e.gradientPoints.slice();y[e.activePointIndex]={...y[e.activePointIndex],red:d,green:u,blue:c,alpha:f},e.colorRed=d,e.colorGreen=u,e.colorBlue=c,e.colorAlpha=f,e.colorHue=h,e.colorSaturation=m,e.colorValue=b,e.gradientPoints=y;const P=e.actions[k];P&&P({points:y,type:e.gradientType,degree:e.gradientDegree,style:E(y,e.gradientType,e.gradientDegree)})},g=(d,u,c="onChange")=>{e.gradientPoints[u].left=d;const f=e.actions[c];f&&f({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)})},p=d=>{e.gradientPoints.push({...e.gradientPoints[e.activePointIndex],left:d}),e.activePointIndex=e.gradientPoints.length-1,t.onChange&&t.onChange({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)})};return n.onMounted(()=>{const{hue:d,saturation:u,value:c}=_({red:e.colorRed,green:e.colorGreen,blue:e.colorBlue});e.colorHue=d,e.colorSaturation=u,e.colorValue=c,document.addEventListener("keyup",i)}),n.onBeforeUnmount(()=>{document.removeEventListener("keyup",i)}),(d,u)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(Ve,{type:e.gradientType,degree:e.gradientDegree,"change-gradient-control":r},null,8,["type","degree"]),n.createVNode(I,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,hue:e.colorHue,saturation:e.colorSaturation,value:e.colorValue,"update-color":l,"is-gradient":!0,type:e.gradientType,degree:e.gradientDegree,points:e.gradientPoints,"active-point-index":e.activePointIndex,"change-gradient-control":r,"change-active-point-index":s,"update-gradient-left":g,"add-point":p,"remove-point":a},null,8,["red","green","blue","alpha","hue","saturation","value","type","degree","points","active-point-index"]),n.createVNode(D,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,"update-color":l},null,8,["red","green","blue","alpha"])],64))}}),Ge={class:"ui-color-picker"},Fe=n.defineComponent({name:"ColorPicker"}),He=n.defineComponent({...Fe,props:{isGradient:{type:Boolean,default:!1},color:{default:()=>({red:255,green:0,blue:0,alpha:1,hue:0,saturation:100,value:100})},gradient:{default:()=>({type:"linear",degree:0,points:[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]})},onChange:{default:()=>!1},onStartChange:{default:()=>!1},onEndChange:{default:()=>!1}},setup(o){const t=o;return(e,a)=>(n.openBlock(),n.createElementBlock("div",Ge,[t.isGradient?(n.openBlock(),n.createBlock(Se,{key:0,points:t.gradient.points,type:t.gradient.type,degree:t.gradient.degree,"on-change":t.onChange,"on-start-change":t.onStartChange,"on-end-change":t.onEndChange},null,8,["points","type","degree","on-change","on-start-change","on-end-change"])):(n.openBlock(),n.createBlock(_e,{key:1,red:t.color.red,green:t.color.green,blue:t.color.blue,alpha:t.color.alpha,hue:t.color.hue,saturation:t.color.saturation,value:t.color.value,"on-change":t.onChange,"on-start-change":t.onStartChange,"on-end-change":t.onEndChange},null,8,["red","green","blue","alpha","hue","saturation","value","on-change","on-start-change","on-end-change"]))]))}}),Ae="";return He});
