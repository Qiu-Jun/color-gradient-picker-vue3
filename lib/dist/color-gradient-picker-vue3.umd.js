!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["color-gradient-picker-vue3"]=t(e.Vue)}(this,(function(e){"use strict";var t=Object.defineProperty,n=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(e,n,o)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,u=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&i(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&i(e,n,t[n]);return e},d=(e,t)=>n(e,o(t));function c({red:e,green:t,blue:n,alpha:o}){let a,r,l,i,u=0;const d=e/255,c=t/255,s=n/255,p=Math.max(d,c,s),g=p-Math.min(d,c,s),h=e=>(p-e)/6/g+.5;return 0===g?(u=0,i=0):(i=g/p,a=h(d),r=h(c),l=h(s),d===p?u=l-r:c===p?u=1/3+a-l:s===p&&(u=2/3+r-a),u<0?u+=1:u>1&&(u-=1)),{hue:Math.round(360*u),saturation:Math.round(100*i),value:Math.round(100*p)}}function s(e){return"number"==typeof e&&!1===Number.isNaN(e)&&e>=0&&e<=255}function p(e,t,n,o){if(s(e)&&s(t)&&s(n)){const a={red:0|e,green:0|t,blue:0|n,alpha:0|o};return!0===s(o)&&(a.alpha=0|o),a}}function g(e,t,n){let o=t/100*(n/=100);const a=e/60;let r=o*(1-Math.abs(a%2-1)),l=n-o;return o=255*(o+l)|0,r=255*(r+l)|0,l=255*l|0,a>=1&&a<2?p(r,o,l,0):a>=2&&a<3?p(l,o,r,0):a>=3&&a<4?p(l,r,o,0):a>=4&&a<5?p(r,l,o,0):a>=5&&a<=6?p(o,l,r,0):p(o,r,l,0)}function h(e,t,n,o,a){e>o&&(e=o),t>n&&(t=n),e<0&&(e=0),t<0&&(t=0);const r=100-100*t/n|0,l=100*e/o|0;return d(u({},g(a,l,r)),{saturation:l,value:r})}function v(e,t,n,o){let a=360*e/t|0;return a=a<0?0:a>360?360:a,d(u({},g(a,n,o)),{hue:a})}function m(e,t){return(e=Number((e/t).toFixed(2)))>1?1:e<0?0:e}function f(e,t,n){let o=e.toString(16),a=t.toString(16),r=n.toString(16);return e<16&&(o=`0${o}`),t<16&&(a=`0${a}`),n<16&&(r=`0${r}`),o+a+r}const b=/(^#{0,1}[0-9A-F]{6}$)|(^#{0,1}[0-9A-F]{3}$)|(^#{0,1}[0-9A-F]{8}$)/i;function C(e,t){const n=100*e/t;return n<0?0:n>100?100:n}function y(e,t){return e||0===e?e:t}function k(e,t,n,o){return`rgba(${e}, ${t}, ${n}, ${o})`}function E(e,t,n){let o="";const a=e.slice();return a.sort(((e,t)=>e.left-t.left)),o="linear"===t?`linear-gradient(${n}deg,`:"radial-gradient(",a.forEach(((e,t)=>{o+=`rgba(${e.red}, ${e.green}, ${e.blue}, ${e.alpha}) ${e.left}%`,t!==a.length-1&&(o+=",")})),o+=")",o}function N(e,t,n){return function(o){let a=e(o);function r(e){a=t(e,a)||a}window.addEventListener("mousemove",r),window.addEventListener("mouseup",(e=>{window.removeEventListener("mousemove",r),n&&n(e,a)}),{once:!0})}}const B={class:"picking-area-overlay1"},P={class:"picking-area-overlay2"},X=e.defineComponent({name:"Picker"}),V=e.defineComponent(d(u({},X),{props:{red:Number,green:Number,blue:Number,alpha:Number,hue:Number,saturation:Number,value:Number,updateColor:Function},setup(t){const n=t,o=e.ref(null),a=e.reactive({width:0,height:0,mouseEvents:()=>!1}),r=e.computed((()=>(n.saturation*a.width/100|0)-6)),l=e.computed((()=>(a.height-n.value*a.height/100|0)-6)),i=e.computed((()=>({backgroundColor:`rgb(${n.red}, ${n.green}, ${n.blue})`,left:`${r.value}px`,top:`${l.value}px`}))),u=e.computed((()=>{const{red:e,green:t,blue:o}=function(e){let t=1;const n=e/60;let o=t*(1-Math.abs(n%2-1)),a=0,r=0,l=0;return t=255*(t+0)|0,o=255*(o+0)|0,n>=0&&n<1&&(a=0|t,r=0|o,l=0),n>=1&&n<2&&(a=0|o,r=0|t,l=0),n>=2&&n<3&&(a=0,r=0|t,l=0|o),n>=3&&n<4&&(a=0,r=0|o,l=0|t),n>=4&&n<5&&(a=0|o,r=0,l=0|t),n>=5&&n<=6&&(a=0|t,r=0,l=0|o),{red:a,green:r,blue:l}}(n.hue);return{backgroundColor:`rgb(${e}, ${t}, ${o})`}})),d=e=>{const t=null==o?void 0:o.value;if(!t)return;const{x:r,y:l}=t.getBoundingClientRect(),i=e.pageX,u=e.pageY,d=i-r,c=u-l,s=h(d,c,a.height,a.width,n.hue);return n.updateColor(s,"onStartChange"),{startX:i,startY:u,positionX:d,positionY:c}},c=(e,{startX:t,startY:o,positionX:r,positionY:l})=>{const i=h(r+=e.pageX-t,l+=e.pageY-o,a.height,a.width,n.hue);return{positions:{positionX:r,positionY:l,startX:e.pageX,startY:e.pageY},color:i}},s=(e,{startX:t,startY:o,positionX:a,positionY:r})=>{const{positions:l,color:i}=c(e,{startX:t,startY:o,positionX:a,positionY:r});return n.updateColor(i,"onChange"),l},p=(e,{startX:t,startY:o,positionX:a,positionY:r})=>{const{positions:l,color:i}=c(e,{startX:t,startY:o,positionX:a,positionY:r});return n.updateColor(i,"onEndChange"),l};return e.onMounted((()=>{const e=null==o?void 0:o.value;e&&(a.width=e.clientWidth,a.height=e.clientHeight),a.mouseEvents=N(d,s,p)})),(t,n)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerAreaRef",ref:o,class:"picking-area",style:e.normalizeStyle(e.unref(u)),onMousedown:n[0]||(n[0]=(...e)=>a.mouseEvents&&a.mouseEvents(...e))},[e.createElementVNode("div",B,[e.createElementVNode("div",P,[e.createElementVNode("div",{class:"picker-pointer",style:e.normalizeStyle(e.unref(i))},null,4)])])],36))}})),x={class:"preview-area"},w=e.defineComponent({name:"PickerPreView"}),S=e.defineComponent(d(u({},w),{props:{isGradient:{type:Boolean,default:!1},red:{default:255},green:{default:0},blue:{default:0},alpha:{default:1},points:{default:()=>[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]},gradientDegree:{default:0},gradientType:{default:""}},setup(t){const n=t,o=e.computed((()=>{let e="";return n.isGradient?(e=E(n.points,n.gradientType,n.gradientDegree),{background:e}):(e=k(n.red,n.green,n.blue,n.alpha),{backgroundColor:e})}));return(t,n)=>(e.openBlock(),e.createElementBlock("div",x,[e.createElementVNode("div",{class:"preview-box",style:e.normalizeStyle(e.unref(o))},null,4)]))}})),G=e.defineComponent({name:"Hue"}),F=e.defineComponent(d(u({},G),{props:{hue:Number,saturation:Number,value:Number,updateColor:Function},setup(t){const n=t,o=e.ref(null),a=e.reactive({width:0,mouseEvents:()=>!1}),r=e.computed((()=>(n.hue*a.width/360|0)-6)),l=e.computed((()=>({left:`${r.value}px`}))),i=e=>{const t=e.currentTarget.getBoundingClientRect().x,o=e.pageX,r=o-t,l=v(r,a.width,n.saturation,n.value);return n.updateColor(l,"onStartChange"),{startX:o,positionX:r}},u=(e,{startX:t,positionX:o})=>{const r=v((o+=e.pageX-t)>a.width?a.width:o<=0?0:o,a.width,n.saturation,n.value);return{positions:{positionX:o,startX:e.pageX},color:r}},d=(e,{startX:t,positionX:o})=>{const{positions:a,color:r}=u(e,{startX:t,positionX:o});return n.updateColor(r,"onChange"),a},c=(e,{startX:t,positionX:o})=>{const{positions:a,color:r}=u(e,{startX:t,positionX:o});return n.updateColor(r,"onEndChange"),a};return e.onMounted((()=>{o.value&&(a.width=o.value.clientWidth),a.mouseEvents=N(i,d,c)})),(t,n)=>(e.openBlock(),e.createElementBlock("div",{class:"hue",onMousedown:n[0]||(n[0]=(...e)=>a.mouseEvents&&a.mouseEvents(...e))},[e.createElementVNode("div",{ref_key:"hueRef",ref:o,class:"hue-area"},[e.createElementVNode("div",{class:"picker-pointer",style:e.normalizeStyle(e.unref(l))},null,4)],512)],32))}})),I={class:"alpha-area"},$=e.defineComponent({name:"alpha"}),R=e.defineComponent(d(u({},$),{props:{red:Number,green:Number,blue:Number,alpha:Number,updateColor:Function},setup(t){const n=t,o=e.ref(null),a=e.reactive({width:0,mouseEvents:()=>!1}),r=e.computed((()=>(n.alpha*a.width|0)-6)),l=e.computed((()=>({left:`${r.value}px`}))),i=e.computed((()=>({background:`linear-gradient(to right, rgba(0, 0, 0, 0), rgb(${n.red}, ${n.green}, ${n.blue}))`}))),u=e=>{const t=e.currentTarget.getBoundingClientRect().x,o=e.pageX,r=o-t;return n.updateColor({alpha:m(r,a.width)},"onStartChange"),{startX:o,positionX:r}},d=(e,{startX:t,positionX:n})=>{const o=m(n+=e.pageX-t,a.width);return{positions:{positionX:n,startX:e.pageX},alpha:o}},c=(e,{startX:t,positionX:o})=>{const{positions:a,alpha:r}=d(e,{startX:t,positionX:o});return n.updateColor({alpha:r},"onChange"),a},s=(e,{startX:t,positionX:o})=>{const{positions:a,alpha:r}=d(e,{startX:t,positionX:o});return n.updateColor({alpha:r},"onEndChange"),a};return e.onMounted((()=>{const e=o.value;e&&(a.width=e.clientWidth),a.mouseEvents=N(u,c,s)})),(t,n)=>(e.openBlock(),e.createElementBlock("div",{class:"alpha",onMousedown:n[0]||(n[0]=(...e)=>a.mouseEvents&&a.mouseEvents(...e))},[e.createElementVNode("div",{class:"gradient",style:e.normalizeStyle(e.unref(i))},null,4),e.createElementVNode("div",I,[e.createElementVNode("div",{ref_key:"alphaMaskRef",ref:o,class:"alpha-mask"},[e.createElementVNode("div",{class:"picker-pointer",style:e.normalizeStyle(e.unref(l))},null,4)],512)])],32))}})),A=e.defineComponent({name:"GradientPoint"}),M=e.defineComponent(d(u({},A),{props:{point:Object,activePointIndex:Number,index:Number,width:Number,positions:Object,changeActivePointIndex:Function,updateGradientLeft:Function,removePoint:Function},setup(t){const n=t,o=e.reactive({mouseEvents:()=>!1}),a=e.computed((()=>n.activePointIndex===n.index?" active":"")),r=e.computed((()=>({left:n.point.left*(n.width/100)-6+"px"}))),l=e=>{n.changeActivePointIndex(n.index);const t=e.pageX,o=e.pageY,a=t-n.positions.x;return n.updateGradientLeft(n.point.left,n.index,"onStartChange"),{startX:t,startY:o,offsetX:a}},i=(e,{startX:t,offsetX:o})=>{const a=C(o+=e.pageX-t,n.width);return{positions:{offsetX:o,startX:e.pageX},left:a}},u=(e,{startX:t,offsetX:o})=>{const{positions:a,left:r}=i(e,{startX:t,offsetX:o});return n.updateGradientLeft(r,n.index,"onChange"),a},d=(e,{startX:t,offsetX:o})=>{const{positions:a,left:r}=i(e,{startX:t,offsetX:o});return n.updateGradientLeft(r,n.index,"onEndChange"),a};return e.onMounted((()=>{o.mouseEvents=N(l,u,d)})),(l,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(`picker-pointer${e.unref(a)}`),style:e.normalizeStyle(e.unref(r)),onMousedown:i[0]||(i[0]=(...e)=>o.mouseEvents&&o.mouseEvents(...e)),onDblclick:i[1]||(i[1]=()=>n.removePoint(t.index)),onClick:i[2]||(i[2]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("span",{class:e.normalizeClass(`child-point${e.unref(a)}`)},null,2)],38))}})),Y=e.defineComponent({name:"GradientPoints"}),D=e.defineComponent(d(u({},Y),{props:{points:Array,activePointIndex:Number,changeActivePointIndex:Function,updateGradientLeft:Function,addPoint:Function,removePoint:Function},setup(t){const n=t,o=e.ref(null),a=e.reactive({width:0,positions:{x:0,y:0}}),r=e.computed((()=>({background:E(n.points,"linear",90)}))),l=e=>{const t=C(e.pageX-a.positions.x,a.width);n.addPoint(t)};return e.onMounted((()=>{const e=o.value;if(e){a.width=e.clientWidth;const t=e.getBoundingClientRect();a.positions={x:t.x,y:t.y}}})),(i,u)=>(e.openBlock(),e.createElementBlock("div",{class:"gradient",style:e.normalizeStyle(e.unref(r)),onClick:l},[e.createElementVNode("div",{ref_key:"pointsContainerRef",ref:o,class:"gradient-slider-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.points,((o,r)=>(e.openBlock(),e.createBlock(M,{key:r,"active-point-index":n.activePointIndex,index:r,point:o,width:a.width,positions:a.positions,"change-active-point-index":n.changeActivePointIndex,"update-gradient-left":t.updateGradientLeft,"remove-point":n.removePoint},null,8,["active-point-index","index","point","width","positions","change-active-point-index","update-gradient-left","remove-point"])))),128))],512)],4))}})),T={class:"picker-area"},z={class:"preview"},L={class:"color-hue-alpha"},H=e.defineComponent({name:"ColorPicker"}),O=e.defineComponent(d(u({},H),{props:{isGradient:Boolean,red:Number,green:Number,blue:Number,alpha:Number,hue:Number,saturation:Number,value:Number,updateColor:Function,points:Array,degree:Number,type:String,activePointIndex:Number,changeGradientControl:Function,changeActivePointIndex:Function,updateGradientLeft:Function,addPoint:Function,removePoint:Function},setup:t=>(n,o)=>(e.openBlock(),e.createElementBlock("div",T,[e.createVNode(V,{red:t.red,green:t.green,blue:t.blue,hue:t.hue,saturation:t.saturation,value:t.value,"update-color":t.updateColor},null,8,["red","green","blue","hue","saturation","value","update-color"]),t.isGradient?(e.openBlock(),e.createBlock(D,{key:0,type:t.type,degree:t.degree,points:t.points,"active-point-index":t.activePointIndex,"change-active-point-index":t.changeActivePointIndex,"update-gradient-left":t.updateGradientLeft,"add-point":t.addPoint,"remove-point":t.removePoint},null,8,["type","degree","points","active-point-index","change-active-point-index","update-gradient-left","add-point","remove-point"])):e.createCommentVNode("",!0),e.createElementVNode("div",z,[e.createVNode(S,{red:t.red,green:t.green,blue:t.blue,alpha:t.alpha,"is-gradient":t.isGradient,points:t.points,"gradient-degree":t.degree,"gradient-type":t.type},null,8,["red","green","blue","alpha","is-gradient","points","gradient-degree","gradient-type"]),e.createElementVNode("div",L,[e.createVNode(F,{hue:t.hue,saturation:t.saturation,value:t.value,"update-color":t.updateColor},null,8,["hue","saturation","value","update-color"]),e.createVNode(R,{alpha:t.alpha,red:t.red,green:t.green,blue:t.blue,"update-color":t.updateColor},null,8,["alpha","red","green","blue","update-color"])])])]))})),j={class:"input-container"},_={class:"label"},W=e.defineComponent({name:"Input"}),U=((e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n})(e.defineComponent(d(u({},W),{props:{value:{default:""},label:{default:""},type:{default:"text"},classes:{default:""},onFocus:{type:Function,default:()=>{}},onBlur:{type:Function,default:()=>{}}},emits:["input","update:value"],setup(t,{emit:n}){const o=t,a=e.computed({get:()=>~~o.value,set:e=>n("update:value",e)}),r=e=>{n("input",e)};return(n,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(`input-field ${o.classes}`)},[e.createElementVNode("div",j,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>e.isRef(a)?a.value=t:null),class:e.normalizeClass(`${o.type}-input input`),onFocus:l[1]||(l[1]=(...e)=>o.onFocus&&o.onFocus(...e)),onBlur:l[2]||(l[2]=(...e)=>o.onBlur&&o.onBlur(...e)),onInput:r},null,34),[[e.vModelText,e.unref(a)]])]),e.createElementVNode("div",_,e.toDisplayString(t.label),1)],2))}})),[["__scopeId","data-v-b140d166"]]),q=e.defineComponent({name:"Preview"}),J=e.defineComponent(d(u({},q),{props:{red:{default:0},green:{default:0},blue:{default:0},alpha:null,updateColor:{type:Function,default:e=>!1}},setup(t){const n=t,o=e.reactive({hexValue:f(n.red,n.green,n.blue)}),a=e.computed((()=>f(n.red,n.green,n.blue))),r=e=>{const t=function(e){if(b.test(e)){if("#"===e[0]&&(e=e.slice(1,e.length)),e.length<6)return;const t=p(parseInt(e.substring(0,2),16)||0,parseInt(e.substring(2,4),16)||0,parseInt(e.substring(4,6),16)||0,parseInt(e.substring(6,10),16)/255||0),n=t&&c(u({},t));return u(u({},t),n)}return!1}(e.target.value);t&&n.updateColor(t)};return e.watch((()=>[n.red,n.green,n.blue]),(()=>{6===a.value.length&&(o.hexValue=a.value)})),(t,n)=>(e.openBlock(),e.createBlock(U,{value:o.hexValue,label:"hex",classes:"hex",onInput:r},null,8,["value"]))}})),K=e.defineComponent({name:"RGBItem"}),Q=e.defineComponent(d(u({},K),{props:{value:null,type:{default:"text"},label:{default:""},onChange:{type:Function,default:e=>!1}},setup(t){const n=t,o=e.getCurrentInstance(),a=e.reactive({inputValue:n.value||0,inProgress:!1}),r=e=>{var t;const r=+e.target.value;if(Number.isNaN(r)||r<0||r>255)return a.inputValue=n.value,void(null==(t=null==o?void 0:o.proxy)||t.$forceUpdate());a.inputValue=e.target.value,n.onChange(r)},l=()=>{a.inputValue||(a.inputValue=n.value),a.inProgress=!1};return e.watch((()=>n.value),(()=>{n.value!==+a.inputValue&&""!==a.inputValue&&(a.inputValue=n.value)})),(t,o)=>(e.openBlock(),e.createElementBlock("div",null,[e.createVNode(U,{value:a.inputValue,type:n.type,label:n.label,"on-focus":()=>a.inProgress=!0,"on-blur":l,"in-progress":a.inProgress,classes:"rgb",onInput:r},null,8,["value","type","label","on-focus","in-progress"])]))}})),Z=e.defineComponent({name:"RGB"}),ee=e.defineComponent(d(u({},Z),{props:{red:{default:0},green:{default:0},blue:{default:0},alpha:{default:0},updateColor:{type:Function,default:()=>!1}},setup(t){const n=t,o=(e,t)=>{if("alpha"===e)return void n.updateColor({alpha:t/100});const o=c({red:n.red,green:n.green,blue:n.blue,[e]:t});n.updateColor(d(u({},o),{[e]:t}))};return(t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Q,{value:n.red,type:"number",label:"R","on-change":e=>o("red",e)},null,8,["value","on-change"]),e.createVNode(Q,{value:n.green,type:"number",label:"G","on-change":e=>o("green",e)},null,8,["value","on-change"]),e.createVNode(Q,{value:n.blue,type:"number",label:"B","on-change":e=>o("blue",e)},null,8,["value","on-change"]),e.createVNode(Q,{value:100*n.alpha,type:"number",label:"Alpha","on-change":e=>o("alpha",e)},null,8,["value","on-change"])],64))}})),te={class:"color-preview-area"},ne={class:"input-group"},oe=e.defineComponent({name:"Preview"}),ae=e.defineComponent(d(u({},oe),{props:{red:{default:0},green:{default:0},blue:{default:0},alpha:{default:0},updateColor:{type:Function,default:e=>!1}},setup(t){const n=t;return(t,o)=>(e.openBlock(),e.createElementBlock("div",te,[e.createElementVNode("div",ne,[e.createVNode(J,{red:n.red,green:n.green,blue:n.blue,"update-color":n.updateColor},null,8,["red","green","blue","update-color"]),e.createVNode(ee,{red:n.red,green:n.green,blue:n.blue,alpha:n.alpha,"update-color":n.updateColor},null,8,["red","green","blue","alpha","update-color"])])]))}})),re=e.defineComponent({name:"Solid"}),le=e.defineComponent(d(u({},re),{props:{red:{default:255},green:{default:0},blue:{default:0},alpha:{default:1},hue:{default:0},saturation:{default:0},value:{default:0},onStartChange:{default:()=>{}},onChange:{default:()=>{}},onEndChange:{default:()=>{}}},setup(t){const n=t,o=e.reactive({colorRed:n.red,colorGreen:n.green,colorBlue:n.blue,colorAlpha:n.alpha,colorHue:0,colorSaturation:100,colorValue:100,actions:{onStartChange:n.onStartChange,onChange:n.onChange,onEndChange:n.onEndChange}}),a=e.computed((()=>void 0===n.hue||void 0===n.saturation||void 0===n.value?c({red:n.red,green:n.green,blue:n.blue}):{hue:n.hue,saturation:n.saturation,value:n.value})),r=e.computed((()=>({red:n.red,green:n.green,blue:n.blue,alpha:n.alpha})));e.watch((()=>a.value),(e=>{const{hue:t,saturation:n,value:a}=e;o.colorHue=t,o.colorSaturation=n,o.colorValue=a})),e.watch((()=>r.value),(e=>{const{red:t,green:n,blue:a,alpha:r}=e;o.colorRed=t,o.colorGreen=n,o.colorBlue=a,o.colorAlpha=r}));const l=({red:e,green:t,blue:n,alpha:a,hue:r,saturation:l,value:i},u="onChange")=>{e=y(e,o.colorRed),t=y(t,o.colorGreen),n=y(n,o.colorBlue),a=y(a,o.colorAlpha),r=y(r,o.colorHue),l=y(l,o.colorSaturation),i=y(i,o.colorValue),o.colorRed=e,o.colorGreen=t,o.colorBlue=n,o.colorAlpha=a,o.colorHue=r,o.colorSaturation=l,o.colorValue=i;const d=o.actions[u];d&&d({red:e,green:t,blue:n,alpha:a,hue:r,saturation:l,value:i,style:k(e,t,n,a)})};return e.onMounted((()=>{const{hue:e,saturation:t,value:n}=c({red:o.colorRed,green:o.colorGreen,blue:o.colorBlue});o.colorHue=e,o.colorSaturation=t,o.colorValue=n})),(t,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(O,{red:o.colorRed,green:o.colorGreen,blue:o.colorBlue,alpha:o.colorAlpha,hue:o.colorHue,saturation:o.colorSaturation,value:o.colorValue,"update-color":l,"is-gradient":!1},null,8,["red","green","blue","alpha","hue","saturation","value"]),e.createVNode(ae,{red:o.colorRed,green:o.colorGreen,blue:o.colorBlue,alpha:o.colorAlpha,"update-color":l},null,8,["red","green","blue","alpha"])],64))}})),ie={class:"gradient-controls"},ue={class:"gradient-type"},de={key:0,class:"gradient-degrees-options"},ce=[e.createElementVNode("div",{class:"gradient-degree-pointer"},null,-1)],se={class:"gradient-degree-value"},pe=e.defineComponent({name:"GradientControls"}),ge=e.defineComponent(d(u({},pe),{props:{type:String,degree:Number,changeGradientControl:{type:Function,default:()=>!1}},setup(t){const n=t,o=e.reactive({disableClick:!1,mouseEvents:()=>!1}),a=e.computed((()=>({transform:`rotate(${n.degree}deg)`}))),r=e=>{const t=e.target.getBoundingClientRect();return{centerY:~~(8-window.pageYOffset)+t.top,centerX:~~(8-window.pageXOffset)+t.left}},l=(e,{centerX:t,centerY:a})=>{o.disableClick=!0;const r=function(e,t,n,o){return Math.atan2(e-n,t-o)*(180/Math.PI)*-1+180}(e.clientX,e.clientY,t,a);n.changeGradientControl({degree:~~r})},i=e=>{const t=e.target.classList;t.contains("gradient-degrees")||t.contains("icon-rotate")||(o.disableClick=!1)},u=()=>{if(o.disableClick)return void(o.disableClick=!1);let e=(n.degree||0)+45;e>=360&&(e=0),n.changeGradientControl({degree:~~e})};return e.onMounted((()=>{o.mouseEvents=N(r,l,i)})),(t,r)=>(e.openBlock(),e.createElementBlock("div",ie,[e.createElementVNode("div",ue,[e.createElementVNode("div",{class:e.normalizeClass("gradient-type-item liner-gradient "+("linear"===n.type?"active":"")),onClick:r[0]||(r[0]=()=>n.changeGradientControl({type:"linear"}))},null,2),e.createElementVNode("div",{class:e.normalizeClass("gradient-type-item radial-gradient "+("radial"===n.type?"active":"")),onClick:r[1]||(r[1]=()=>n.changeGradientControl({type:"radial"}))},null,2)]),"linear"===n.type?(e.openBlock(),e.createElementBlock("div",de,[e.createElementVNode("div",{class:"gradient-degrees",onMousedown:r[2]||(r[2]=(...e)=>o.mouseEvents&&o.mouseEvents(...e)),onClick:u},[e.createElementVNode("div",{class:"gradient-degree-center",style:e.normalizeStyle(e.unref(a))},ce,4)],32),e.createElementVNode("div",se,[e.createElementVNode("p",null,e.toDisplayString(n.degree)+"°",1)])])):e.createCommentVNode("",!0)]))}})),he=e.defineComponent({name:"Gradient"}),ve=e.defineComponent(d(u({},he),{props:{type:{default:"linear"},degree:{default:0},points:{default:()=>[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]},onStartChange:{default:null},onChange:{default:null},onEndChange:{default:null}},setup(t){const n=t,o=e.reactive({activePointIndex:0,gradientPoints:n.points,activePoint:n.points[0],colorRed:n.points[0].red,colorGreen:n.points[0].green,colorBlue:n.points[0].blue,colorAlpha:n.points[0].alpha,colorHue:0,colorSaturation:100,colorValue:100,gradientType:n.type,gradientDegree:n.degree,actions:{onStartChange:n.onStartChange,onChange:n.onChange,onEndChange:n.onEndChange}}),a=(e=o.activePointIndex)=>{o.gradientPoints.length<=2||(o.gradientPoints.splice(e,1),e>0&&(o.activePointIndex=e-1),n.onChange&&n.onChange({points:o.gradientPoints,type:o.gradientType,degree:o.gradientDegree,style:E(o.gradientPoints,o.gradientType,o.gradientDegree)}))},r=e=>{46!==e.keyCode&&8!==e.keyCode||a(o.activePointIndex)},l=e=>{o.activePointIndex=e,o.activePoint=o.gradientPoints[e];const{red:t,green:n,blue:a,alpha:r}=o.activePoint;o.colorRed=t,o.colorGreen=n,o.colorBlue=a,o.colorAlpha=r;const{hue:l,saturation:i,value:u}=c({red:t,green:n,blue:a});o.colorHue=l,o.colorSaturation=i,o.colorValue=u},i=({type:e,degree:t})=>{e=y(e,o.gradientType),t=y(t,o.gradientDegree),o.gradientType=e,o.gradientDegree=t,n.onChange&&n.onChange({points:o.gradientPoints,type:o.gradientType,degree:o.gradientDegree,style:E(o.gradientPoints,o.gradientType,o.gradientDegree)})},s=({red:e,green:t,blue:n,alpha:a,hue:r,saturation:l,value:i},c="onChange")=>{e=y(e,o.colorRed),t=y(t,o.colorGreen),n=y(n,o.colorBlue),a=y(a,o.colorAlpha),r=y(r,o.colorHue),l=y(l,o.colorSaturation),i=y(i,o.colorValue);const s=o.gradientPoints.slice();s[o.activePointIndex]=d(u({},s[o.activePointIndex]),{red:e,green:t,blue:n,alpha:a}),o.colorRed=e,o.colorGreen=t,o.colorBlue=n,o.colorAlpha=a,o.colorHue=r,o.colorSaturation=l,o.colorValue=i,o.gradientPoints=s;const p=o.actions[c];p&&p({points:s,type:o.gradientType,degree:o.gradientDegree,style:E(s,o.gradientType,o.gradientDegree)})},p=(e,t,n="onChange")=>{o.gradientPoints[t].left=e;const a=o.actions[n];a&&a({points:o.gradientPoints,type:o.gradientType,degree:o.gradientDegree,style:E(o.gradientPoints,o.gradientType,o.gradientDegree)})},g=e=>{o.gradientPoints.push(d(u({},o.gradientPoints[o.activePointIndex]),{left:e})),o.activePointIndex=o.gradientPoints.length-1,n.onChange&&n.onChange({points:o.gradientPoints,type:o.gradientType,degree:o.gradientDegree,style:E(o.gradientPoints,o.gradientType,o.gradientDegree)})};return e.onMounted((()=>{const{hue:e,saturation:t,value:n}=c({red:o.colorRed,green:o.colorGreen,blue:o.colorBlue});o.colorHue=e,o.colorSaturation=t,o.colorValue=n,document.addEventListener("keyup",r)})),e.onBeforeUnmount((()=>{document.removeEventListener("keyup",r)})),(t,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ge,{type:o.gradientType,degree:o.gradientDegree,"change-gradient-control":i},null,8,["type","degree"]),e.createVNode(O,{red:o.colorRed,green:o.colorGreen,blue:o.colorBlue,alpha:o.colorAlpha,hue:o.colorHue,saturation:o.colorSaturation,value:o.colorValue,"update-color":s,"is-gradient":!0,type:o.gradientType,degree:o.gradientDegree,points:o.gradientPoints,"active-point-index":o.activePointIndex,"change-gradient-control":i,"change-active-point-index":l,"update-gradient-left":p,"add-point":g,"remove-point":a},null,8,["red","green","blue","alpha","hue","saturation","value","type","degree","points","active-point-index"]),e.createVNode(ae,{red:o.colorRed,green:o.colorGreen,blue:o.colorBlue,alpha:o.colorAlpha,"update-color":s},null,8,["red","green","blue","alpha"])],64))}})),me={class:"ui-color-picker"},fe=e.defineComponent({name:"ColorPicker"});return e.defineComponent(d(u({},fe),{props:{isGradient:{type:Boolean,default:!1},color:{default:()=>({red:255,green:0,blue:0,alpha:1,hue:0,saturation:100,value:100})},gradient:{default:()=>({type:"linear",degree:0,points:[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]})},onChange:{default:()=>!1},onStartChange:{default:()=>!1},onEndChange:{default:()=>!1}},setup(t){const n=t;return(t,o)=>(e.openBlock(),e.createElementBlock("div",me,[n.isGradient?(e.openBlock(),e.createBlock(ve,{key:0,points:n.gradient.points,type:n.gradient.type,degree:n.gradient.degree,"on-change":n.onChange,"on-start-change":n.onStartChange,"on-end-change":n.onEndChange},null,8,["points","type","degree","on-change","on-start-change","on-end-change"])):(e.openBlock(),e.createBlock(le,{key:1,red:n.color.red,green:n.color.green,blue:n.color.blue,alpha:n.color.alpha,hue:n.color.hue,saturation:n.color.saturation,value:n.color.value,"on-change":n.onChange,"on-start-change":n.onStartChange,"on-end-change":n.onEndChange},null,8,["red","green","blue","alpha","hue","saturation","value","on-change","on-start-change","on-end-change"]))]))}}))}));
