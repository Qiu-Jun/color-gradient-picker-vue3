(function(n,k){typeof exports=="object"&&typeof module<"u"?module.exports=k(require("vue")):typeof define=="function"&&define.amd?define(["vue"],k):(n=typeof globalThis<"u"?globalThis:n||self,n["color-gradient-picker-vue3"]=k(n.Vue))})(this,function(n){"use strict";function k({red:o,green:t,blue:e,alpha:r}){let i,s,a,l=0,p;const g=o/255,d=t/255,u=e/255,c=Math.max(g,d,u),h=c-Math.min(g,d,u),m=f=>(c-f)/6/h+1/2;return h===0?(l=0,p=0):(p=h/c,i=m(g),s=m(d),a=m(u),g===c?l=a-s:d===c?l=1/3+i-a:u===c&&(l=2/3+s-i),l<0?l+=1:l>1&&(l-=1)),{hue:Math.round(l*360),saturation:Math.round(p*100),value:Math.round(c*100)}}function D(o){let t=1;const e=o/60;let r=t*(1-Math.abs(e%2-1));const i=0,s=255;let a=0,l=0,p=0;return t=(t+i)*s|0,r=(r+i)*s|0,e>=0&&e<1&&(a=t|0,l=r|0,p=i|0),e>=1&&e<2&&(a=r|0,l=t|0,p=i|0),e>=2&&e<3&&(a=i|0,l=t|0,p=r|0),e>=3&&e<4&&(a=i|0,l=r|0,p=t|0),e>=4&&e<5&&(a=r|0,l=i|0,p=t|0),e>=5&&e<=6&&(a=t|0,l=i|0,p=r|0),{red:a,green:l,blue:p}}function B(o){return typeof o=="number"&&Number.isNaN(o)===!1&&o>=0&&o<=255}function x(o,t,e,r){if(B(o)&&B(t)&&B(e)){const i={red:o|0,green:t|0,blue:e|0,alpha:r|0};return B(r)===!0&&(i.alpha=r|0),i}}function V(o,t,e){e/=100;let i=t/100*e;const s=o/60;let a=i*(1-Math.abs(s%2-1)),l=e-i;const p=255,g=0;return i=(i+l)*p|0,a=(a+l)*p|0,l=l*p|0,s>=1&&s<2?x(a,i,l,g):s>=2&&s<3?x(l,i,a,g):s>=3&&s<4?x(l,a,i,g):s>=4&&s<5?x(a,l,i,g):s>=5&&s<=6?x(i,l,a,g):x(i,a,l,g)}function S(o,t,e,r,i){o>r&&(o=r),t>e&&(t=e),o<0&&(o=0),t<0&&(t=0);const s=100-t*100/e|0,a=o*100/r|0;return{...V(i,a,s),saturation:a,value:s}}function w(o,t,e,r){let i=360*o/t|0;return i=i<0?0:i>360?360:i,{...V(i,e,r),hue:i}}function G(o,t){return o=Number((o/t).toFixed(2)),o>1?1:o<0?0:o}function F(o,t,e){let r=o.toString(16),i=t.toString(16),s=e.toString(16);return o<16&&(r=`0${r}`),t<16&&(i=`0${i}`),e<16&&(s=`0${s}`),r+i+s}const X=/(^#{0,1}[0-9A-F]{6}$)|(^#{0,1}[0-9A-F]{3}$)|(^#{0,1}[0-9A-F]{8}$)/i;function T(o){if(X.test(o)){if(o[0]==="#"&&(o=o.slice(1,o.length)),o.length<6)return;const e=parseInt(o.substring(0,2),16)||0,r=parseInt(o.substring(2,4),16)||0,i=parseInt(o.substring(4,6),16)||0,s=parseInt(o.substring(6,10),16)/255||0,a=x(e,r,i,s),l=a&&k({...a});return{...a,...l}}return!1}function I(o,t){const e=o*100/t;return e<0?0:e>100?100:e}function O(o,t,e,r){return Math.atan2(o-e,t-r)*(180/Math.PI)*-1+180}function b(o,t){return!o&&o!==0?t:o}function H(o,t,e,r){return`rgba(${o}, ${t}, ${e}, ${r})`}function E(o,t,e){let r="";const i=o.slice();return i.sort((s,a)=>s.left-a.left),t==="linear"?r=`linear-gradient(${e}deg,`:r="radial-gradient(",i.forEach((s,a)=>{r+=`rgba(${s.red}, ${s.green}, ${s.blue}, ${s.alpha}) ${s.left}%`,a!==i.length-1&&(r+=",")}),r+=")",r}function P(o,t,e){return function(i){let s=o(i);function a(l){s=t(l,s)||s}window.addEventListener("mousemove",a),window.addEventListener("mouseup",l=>{window.removeEventListener("mousemove",a),e&&e(l,s)},{once:!0})}}const j={class:"picking-area-overlay1"},L={class:"picking-area-overlay2"},v=n.defineComponent({name:"Picker"}),z=Object.assign(v,{props:{red:Number,green:Number,blue:Number,alpha:Number,hue:Number,saturation:Number,value:Number,updateColor:Function},setup(o){const t=o,e=n.ref(null),r=n.reactive({width:0,height:0,mouseEvents:()=>!1}),i=n.computed(()=>(t.saturation*r.width/100|0)-6),s=n.computed(()=>(r.height-t.value*r.height/100|0)-6),a=n.computed(()=>({backgroundColor:`rgb(${t.red}, ${t.green}, ${t.blue})`,left:`${i.value}px`,top:`${s.value}px`})),l=n.computed(()=>{const{red:c,green:h,blue:m}=D(t.hue);return{backgroundColor:`rgb(${c}, ${h}, ${m})`}}),p=c=>{const h=e==null?void 0:e.value;if(!h)return;const{x:m,y:f}=h.getBoundingClientRect(),y=c.pageX,N=c.pageY,C=y-m,_=N-f,Fe=S(C,_,r.height,r.width,t.hue);return t.updateColor(Fe,"onStartChange"),{startX:y,startY:N,positionX:C,positionY:_}},g=(c,{startX:h,startY:m,positionX:f,positionY:y})=>{const N=c.pageX-h,C=c.pageY-m;f+=N,y+=C;const _=S(f,y,r.height,r.width,t.hue);return{positions:{positionX:f,positionY:y,startX:c.pageX,startY:c.pageY},color:_}},d=(c,{startX:h,startY:m,positionX:f,positionY:y})=>{const{positions:N,color:C}=g(c,{startX:h,startY:m,positionX:f,positionY:y});return t.updateColor(C,"onChange"),N},u=(c,{startX:h,startY:m,positionX:f,positionY:y})=>{const{positions:N,color:C}=g(c,{startX:h,startY:m,positionX:f,positionY:y});return t.updateColor(C,"onEndChange"),N};return n.onMounted(()=>{const c=e==null?void 0:e.value;c&&(r.width=c.clientWidth,r.height=c.clientHeight),r.mouseEvents=P(p,d,u)}),(c,h)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"pickerAreaRef",ref:e,class:"picking-area",style:n.normalizeStyle(n.unref(l)),onMousedown:h[0]||(h[0]=(...m)=>r.mouseEvents&&r.mouseEvents(...m))},[n.createElementVNode("div",j,[n.createElementVNode("div",L,[n.createElementVNode("div",{class:"picker-pointer",style:n.normalizeStyle(n.unref(a))},null,4)])])],36))}}),Y={class:"preview-area"},U=n.defineComponent({name:"PickerPreView"}),W=Object.assign(U,{props:{isGradient:Boolean,red:Number,green:Number,blue:Number,alpha:Number,points:Array,gradientDegree:Number,gradientType:String},setup(o){const t=o,e=n.computed(()=>{let r="";return t.isGradient?(r=E(t.points,t.gradientType,t.gradientDegree),{background:r}):(r=H(t.red,t.green,t.blue,t.alpha),{backgroundColor:r})});return(r,i)=>(n.openBlock(),n.createElementBlock("div",Y,[n.createElementVNode("div",{class:"preview-box",style:n.normalizeStyle(n.unref(e))},null,4)]))}}),q=n.defineComponent({name:"Hue"}),J=Object.assign(q,{props:{hue:Number,saturation:Number,value:Number,updateColor:Function},setup(o){const t=o,e=n.ref(null),r=n.reactive({width:0,mouseEvents:()=>!1}),i=n.computed(()=>(t.hue*r.width/360|0)-6),s=n.computed(()=>({left:`${i.value}px`})),a=d=>{const u=d.currentTarget.getBoundingClientRect().x,c=d.pageX,h=c-u,m=w(h,r.width,t.saturation,t.value);return t.updateColor(m,"onStartChange"),{startX:c,positionX:h}},l=(d,{startX:u,positionX:c})=>{const h=d.pageX-u;c+=h;const m=c>r.width?r.width:c<=0?0:c,f=w(m,r.width,t.saturation,t.value);return{positions:{positionX:c,startX:d.pageX},color:f}},p=(d,{startX:u,positionX:c})=>{const{positions:h,color:m}=l(d,{startX:u,positionX:c});return t.updateColor(m,"onChange"),h},g=(d,{startX:u,positionX:c})=>{const{positions:h,color:m}=l(d,{startX:u,positionX:c});return t.updateColor(m,"onEndChange"),h};return n.onMounted(()=>{e.value&&(r.width=e.value.clientWidth),r.mouseEvents=P(a,p,g)}),(d,u)=>(n.openBlock(),n.createElementBlock("div",{class:"hue",onMousedown:u[0]||(u[0]=(...c)=>r.mouseEvents&&r.mouseEvents(...c))},[n.createElementVNode("div",{ref_key:"hueRef",ref:e,class:"hue-area"},[n.createElementVNode("div",{class:"picker-pointer",style:n.normalizeStyle(n.unref(s))},null,4)],512)],32))}}),K={class:"alpha-area"},Q=n.defineComponent({name:"alpha"}),Z=Object.assign(Q,{props:{red:Number,green:Number,blue:Number,alpha:Number,updateColor:Function},setup(o){const t=o,e=n.ref(null),r=n.reactive({width:0,mouseEvents:()=>!1}),i=n.computed(()=>(t.alpha*r.width|0)-6),s=n.computed(()=>({left:`${i.value}px`})),a=n.computed(()=>({background:`linear-gradient(to right, rgba(0, 0, 0, 0), rgb(${t.red}, ${t.green}, ${t.blue}))`})),l=u=>{const c=u.currentTarget.getBoundingClientRect().x,h=u.pageX,m=h-c;return t.updateColor({alpha:G(m,r.width)},"onStartChange"),{startX:h,positionX:m}},p=(u,{startX:c,positionX:h})=>{const m=u.pageX-c;h+=m;const f=G(h,r.width);return{positions:{positionX:h,startX:u.pageX},alpha:f}},g=(u,{startX:c,positionX:h})=>{const{positions:m,alpha:f}=p(u,{startX:c,positionX:h});return t.updateColor({alpha:f},"onChange"),m},d=(u,{startX:c,positionX:h})=>{const{positions:m,alpha:f}=p(u,{startX:c,positionX:h});return t.updateColor({alpha:f},"onEndChange"),m};return n.onMounted(()=>{const u=e.value;u&&(r.width=u.clientWidth),r.mouseEvents=P(l,g,d)}),(u,c)=>(n.openBlock(),n.createElementBlock("div",{class:"alpha",onMousedown:c[0]||(c[0]=(...h)=>r.mouseEvents&&r.mouseEvents(...h))},[n.createElementVNode("div",{class:"gradient",style:n.normalizeStyle(n.unref(a))},null,4),n.createElementVNode("div",K,[n.createElementVNode("div",{ref_key:"alphaMaskRef",ref:e,class:"alpha-mask"},[n.createElementVNode("div",{class:"picker-pointer",style:n.normalizeStyle(n.unref(s))},null,4)],512)])],32))}}),ee=n.defineComponent({name:"GradientPoint"}),te=Object.assign(ee,{props:{point:Object,activePointIndex:Number,index:Number,width:Number,positions:Object,changeActivePointIndex:Function,updateGradientLeft:Function,removePoint:Function},setup(o){const t=o,e=n.reactive({mouseEvents:()=>!1}),r=n.computed(()=>t.activePointIndex===t.index?" active":""),i=n.computed(()=>({left:`${t.point.left*(t.width/100)-6}px`})),s=g=>{t.changeActivePointIndex(t.index);const d=g.pageX,u=g.pageY,c=d-t.positions.x;return t.updateGradientLeft(t.point.left,t.index,"onStartChange"),{startX:d,startY:u,offsetX:c}},a=(g,{startX:d,offsetX:u})=>{const c=g.pageX-d;u+=c;const h=I(u,t.width);return{positions:{offsetX:u,startX:g.pageX},left:h}},l=(g,{startX:d,offsetX:u})=>{const{positions:c,left:h}=a(g,{startX:d,offsetX:u});return t.updateGradientLeft(h,t.index,"onChange"),c},p=(g,{startX:d,offsetX:u})=>{const{positions:c,left:h}=a(g,{startX:d,offsetX:u});return t.updateGradientLeft(h,t.index,"onEndChange"),c};return n.onMounted(()=>{e.mouseEvents=P(s,l,p)}),(g,d)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(`picker-pointer${n.unref(r)}`),style:n.normalizeStyle(n.unref(i)),onMousedown:d[0]||(d[0]=(...u)=>e.mouseEvents&&e.mouseEvents(...u)),onDblclick:d[1]||(d[1]=()=>o.removePoint(o.index)),onClick:d[2]||(d[2]=n.withModifiers(()=>{},["stop"]))},[n.createElementVNode("span",{class:n.normalizeClass(`child-point${n.unref(r)}`)},null,2)],38))}}),ne=n.defineComponent({name:"GradientPoints"}),oe=Object.assign(ne,{props:{points:Array,activePointIndex:Number,changeActivePointIndex:Function,updateGradientLeft:Function,addPoint:Function,removePoint:Function},setup(o){const t=o,e=n.ref(null),r=n.reactive({width:0,positions:{x:0,y:0}}),i=n.computed(()=>({background:E(t.points,"linear",90)})),s=a=>{const l=I(a.pageX-r.positions.x,r.width);t.addPoint(l)};return n.onMounted(()=>{const a=e.value;if(a){r.width=a.clientWidth;const l=a.getBoundingClientRect();r.positions={x:l.x,y:l.y}}}),(a,l)=>(n.openBlock(),n.createElementBlock("div",{class:"gradient",style:n.normalizeStyle(n.unref(i)),onClick:s},[n.createElementVNode("div",{ref_key:"pointsContainerRef",ref:e,class:"gradient-slider-container"},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(t.points,(p,g)=>(n.openBlock(),n.createBlock(n.unref(te),{key:g,"active-point-index":t.activePointIndex,index:g,point:p,width:r.width,positions:r.positions,"change-active-point-index":t.changeActivePointIndex,"update-gradient-left":o.updateGradientLeft,"remove-point":t.removePoint},null,8,["active-point-index","index","point","width","positions","change-active-point-index","update-gradient-left","remove-point"]))),128))],512)],4))}}),re={class:"picker-area"},ae={class:"preview"},le={class:"color-hue-alpha"},ie=n.defineComponent({name:"ColorPicker"}),R=Object.assign(ie,{props:{isGradient:Boolean,red:Number,green:Number,blue:Number,alpha:Number,hue:Number,saturation:Number,value:Number,updateColor:Function,points:Array,degree:Number,type:String,activePointIndex:Number,changeGradientControl:Function,changeActivePointIndex:Function,updateGradientLeft:Function,addPoint:Function,removePoint:Function},setup(o){return(t,e)=>(n.openBlock(),n.createElementBlock("div",re,[n.createVNode(z,{red:o.red,green:o.green,blue:o.blue,hue:o.hue,saturation:o.saturation,value:o.value,"update-color":o.updateColor},null,8,["red","green","blue","hue","saturation","value","update-color"]),o.isGradient?(n.openBlock(),n.createBlock(oe,{key:0,type:o.type,degree:o.degree,points:o.points,"active-point-index":o.activePointIndex,"change-active-point-index":o.changeActivePointIndex,"update-gradient-left":o.updateGradientLeft,"add-point":o.addPoint,"remove-point":o.removePoint},null,8,["type","degree","points","active-point-index","change-active-point-index","update-gradient-left","add-point","remove-point"])):n.createCommentVNode("",!0),n.createElementVNode("div",ae,[n.createVNode(W,{red:o.red,green:o.green,blue:o.blue,alpha:o.alpha,"is-gradient":o.isGradient,points:o.points,"gradient-degree":o.degree,"gradient-type":o.type},null,8,["red","green","blue","alpha","is-gradient","points","gradient-degree","gradient-type"]),n.createElementVNode("div",le,[n.createVNode(J,{hue:o.hue,saturation:o.saturation,value:o.value,"update-color":o.updateColor},null,8,["hue","saturation","value","update-color"]),n.createVNode(Z,{alpha:o.alpha,red:o.red,green:o.green,blue:o.blue,"update-color":o.updateColor},null,8,["alpha","red","green","blue","update-color"])])])]))}}),ce={class:"input-container"},se={class:"label"},de=n.defineComponent({name:"Input"}),ue=n.defineComponent({...de,props:{value:{type:[String,Number],default:""},label:{type:String,default:""},type:{type:String,default:"text"},classes:{type:String,default:""},onFocus:{type:Function,default:()=>{}},onBlur:{type:Function,default:()=>{}}},emits:["input","update:value"],setup(o,{emit:t}){const e=o,r=n.computed({get:()=>e.value,set:s=>t("update:value",s)}),i=s=>{t("input",s)};return(s,a)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(`input-field ${e.classes}`)},[n.createElementVNode("div",ce,[n.withDirectives(n.createElementVNode("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>n.isRef(r)?r.value=l:null),class:n.normalizeClass(`${e.type}-input input`),onFocus:a[1]||(a[1]=(...l)=>e.onFocus&&e.onFocus(...l)),onBlur:a[2]||(a[2]=(...l)=>e.onBlur&&e.onBlur(...l)),onInput:i},null,34),[[n.vModelText,n.unref(r)]])]),n.createElementVNode("div",se,n.toDisplayString(o.label),1)],2))}}),Ie="",M=((o,t)=>{const e=o.__vccOpts||o;for(const[r,i]of t)e[r]=i;return e})(ue,[["__scopeId","data-v-7645d384"]]),pe=n.defineComponent({name:"Preview"}),ge=Object.assign(pe,{props:{red:Number,green:Number,blue:Number,alpha:Number,updateColor:Function},setup(o){const t=o,e=n.reactive({hexValue:F(t.red,t.green,t.blue)}),r=n.computed(()=>F(t.red,t.green,t.blue)),i=()=>{r.value.length===6&&(e.hexValue=r.value)},s=a=>{const l=T(a.target.value);l&&t.updateColor(l)};return n.watch(()=>[t.red,t.green,t.blue],()=>i()),(a,l)=>(n.openBlock(),n.createBlock(M,{value:e.hexValue,label:"hex","in-progress":e.inProgress,classes:"hex",onInput:s},null,8,["value","in-progress"]))}}),he=n.defineComponent({name:"RGBItem"}),$=Object.assign(he,{props:{value:[String,Number],type:String,label:String,onChange:Function},setup(o){const t=o,e=n.getCurrentInstance(),r=n.reactive({inputValue:t.value,inProgress:!1}),i=()=>{t.value!==+r.inputValue&&r.inputValue!==""&&(r.inputValue=t.value)},s=l=>{var g;const p=+l.target.value;if(Number.isNaN(p)||p.length>3||p<0||p>255){r.inputValue=t.value,(g=e==null?void 0:e.proxy)==null||g.$forceUpdate();return}r.inputValue=l.target.value,t.onChange(p)},a=()=>{!r.inputValue&&!r.inputValue!==0&&(r.inputValue=t.value),r.inProgress=!1};return n.watch(()=>t.value,()=>i()),(l,p)=>(n.openBlock(),n.createElementBlock("div",null,[n.createVNode(M,{value:r.inputValue,type:t.type,label:t.label,"on-focus":()=>r.inProgress=!0,"on-blur":a,"in-progress":r.inProgress,classes:"rgb",onInput:s},null,8,["value","type","label","on-focus","in-progress"])]))}}),me=n.defineComponent({name:"RGB"}),fe=Object.assign(me,{props:{red:Number,green:Number,blue:Number,alpha:Number,updateColor:Function},setup(o){const t=o,e=(r,i)=>{if(r==="alpha"){t.updateColor({alpha:i/100});return}const s=k({red:t.red,green:t.green,blue:t.blue,[r]:i});t.updateColor({...s,[r]:i})};return(r,i)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode($,{value:t.red,type:"number",label:"R","on-change":s=>e("red",s)},null,8,["value","on-change"]),n.createVNode($,{value:t.green,type:"number",label:"G","on-change":s=>e("green",s)},null,8,["value","on-change"]),n.createVNode($,{value:t.blue,type:"number",label:"B","on-change":s=>e("blue",s)},null,8,["value","on-change"]),n.createVNode($,{value:parseInt(t.alpha*100,10),type:"number",label:"Alpha","on-change":s=>e("alpha",s)},null,8,["value","on-change"])],64))}}),be={class:"color-preview-area"},ye={class:"input-group"},A={__name:"index",props:{red:Number,green:Number,blue:Number,alpha:Number,updateColor:Function},setup(o){const t=o;return(e,r)=>(n.openBlock(),n.createElementBlock("div",be,[n.createElementVNode("div",ye,[n.createVNode(ge,{red:t.red,green:t.green,blue:t.blue,"update-color":t.updateColor},null,8,["red","green","blue","update-color"]),n.createVNode(fe,{red:t.red,green:t.green,blue:t.blue,alpha:t.alpha,"update-color":t.updateColor},null,8,["red","green","blue","alpha","update-color"])])]))}},Ce=n.defineComponent({name:"Solid"}),Ne=Object.assign(Ce,{props:{red:{type:Number,default:255},green:{type:Number,default:0},blue:{type:Number,default:0},alpha:{type:Number,default:1},hue:Number,saturation:Number,value:Number,onStartChange:Function,onChange:Function,onEndChange:Function},setup(o){const t=o,e=n.reactive({colorRed:t.red,colorGreen:t.green,colorBlue:t.blue,colorAlpha:t.alpha,colorHue:0,colorSaturation:100,colorValue:100,actions:{onStartChange:t.onStartChange,onChange:t.onChange,onEndChange:t.onEndChange}}),r=n.computed(()=>t.hue===void 0||t.saturation===void 0||t.value===void 0?k({red:t.red,green:t.green,blue:t.blue}):{hue:t.hue,saturation:t.saturation,value:t.value}),i=n.computed(()=>({red:t.red,green:t.green,blue:t.blue,alpha:t.alpha}));n.watch(()=>r.value,a=>{const{hue:l,saturation:p,value:g}=a;e.colorHue=l,e.colorSaturation=p,e.colorValue=g}),n.watch(()=>i.value,a=>{const{red:l,green:p,blue:g,alpha:d}=a;e.colorRed=l,e.colorGreen=p,e.colorBlue=g,e.colorAlpha=d});const s=({red:a,green:l,blue:p,alpha:g,hue:d,saturation:u,value:c},h="onChange")=>{a=b(a,e.colorRed),l=b(l,e.colorGreen),p=b(p,e.colorBlue),g=b(g,e.colorAlpha),d=b(d,e.colorHue),u=b(u,e.colorSaturation),c=b(c,e.colorValue),e.colorRed=a,e.colorGreen=l,e.colorBlue=p,e.colorAlpha=g,e.colorHue=d,e.colorSaturation=u,e.colorValue=c;const m=e.actions[h];m&&m({red:a,green:l,blue:p,alpha:g,hue:d,saturation:u,value:c,style:H(a,l,p,g)})};return n.onMounted(()=>{const{hue:a,saturation:l,value:p}=k({red:e.colorRed,green:e.colorGreen,blue:e.colorBlue});e.colorHue=a,e.colorSaturation=l,e.colorValue=p}),(a,l)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(R,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,hue:e.colorHue,saturation:e.colorSaturation,value:e.colorValue,"update-color":s,"is-gradient":!1},null,8,["red","green","blue","alpha","hue","saturation","value"]),n.createVNode(A,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,"update-color":s},null,8,["red","green","blue","alpha"])],64))}}),ke={class:"gradient-controls"},xe={class:"gradient-type"},Ee={key:0,class:"gradient-degrees-options"},_e=[n.createElementVNode("div",{class:"gradient-degree-pointer"},null,-1)],Pe={class:"gradient-degree-value"},Be=n.defineComponent({name:"GradientControls"}),$e=Object.assign(Be,{props:{type:String,degree:Number,changeGradientControl:{type:Function,default:()=>!1}},setup(o){const t=o,e=n.reactive({disableClick:!1,mouseEvents:()=>!1}),r=n.computed(()=>({transform:`rotate(${t.degree}deg)`})),i=p=>{const d=p.target.getBoundingClientRect(),u=d.top+parseInt(8-window.pageYOffset,10),c=d.left+parseInt(8-window.pageXOffset,10);return{centerY:u,centerX:c}},s=(p,{centerX:g,centerY:d})=>{e.disableClick=!0;const u=O(p.clientX,p.clientY,g,d);t.changeGradientControl({degree:parseInt(u,10)})},a=p=>{const g=p.target.classList;g.contains("gradient-degrees")||g.contains("icon-rotate")||(e.disableClick=!1)},l=()=>{if(e.disableClick){e.disableClick=!1;return}let p=t.degree+45;p>=360&&(p=0),t.changeGradientControl({degree:parseInt(p,10)})};return n.onMounted(()=>{e.mouseEvents=P(i,s,a)}),(p,g)=>(n.openBlock(),n.createElementBlock("div",ke,[n.createElementVNode("div",xe,[n.createElementVNode("div",{class:n.normalizeClass(`gradient-type-item liner-gradient ${t.type==="linear"?"active":""}`),onClick:g[0]||(g[0]=()=>o.changeGradientControl({type:"linear"}))},null,2),n.createElementVNode("div",{class:n.normalizeClass(`gradient-type-item radial-gradient ${t.type==="radial"?"active":""}`),onClick:g[1]||(g[1]=()=>o.changeGradientControl({type:"radial"}))},null,2)]),t.type==="linear"?(n.openBlock(),n.createElementBlock("div",Ee,[n.createElementVNode("div",{class:"gradient-degrees",onMousedown:g[2]||(g[2]=(...d)=>p.mouseEvents&&p.mouseEvents(...d)),onClick:l},[n.createElementVNode("div",{class:"gradient-degree-center",style:n.normalizeStyle(n.unref(r))},_e,4)],32),n.createElementVNode("div",Pe,[n.createElementVNode("p",null,n.toDisplayString(t.degree)+"°",1)])])):n.createCommentVNode("",!0)]))}}),Ve={__name:"index",props:{type:{type:String,default:"linear"},degree:{type:Number,default:0},points:{type:Array,default:()=>[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]},onStartChange:Function,onChange:Function,onEndChange:Function},setup(o){const t=o,e=n.reactive({activePointIndex:0,gradientPoints:t.points,activePoint:t.points[0],colorRed:t.points[0].red,colorGreen:t.points[0].green,colorBlue:t.points[0].blue,colorAlpha:t.points[0].alpha,colorHue:0,colorSaturation:100,colorValue:100,gradientType:t.type,gradientDegree:t.degree,actions:{onStartChange:t.onStartChange,onChange:t.onChange,onEndChange:t.onEndChange}}),r=(d=e.activePointIndex)=>{e.gradientPoints.length<=2||(e.gradientPoints.splice(d,1),d>0&&(e.activePointIndex=d-1),t.onChange&&t.onChange({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)}))},i=d=>{(d.keyCode===46||d.keyCode===8)&&r(e.activePointIndex)},s=d=>{e.activePointIndex=d,e.activePoint=e.gradientPoints[d];const{red:u,green:c,blue:h,alpha:m}=e.activePoint;e.colorRed=u,e.colorGreen=c,e.colorBlue=h,e.colorAlpha=m;const{hue:f,saturation:y,value:N}=k({red:u,green:c,blue:h});e.colorHue=f,e.colorSaturation=y,e.colorValue=N},a=({type:d,degree:u})=>{d=b(d,e.gradientType),u=b(u,e.gradientDegree),e.gradientType=d,e.gradientDegree=u,t.onChange({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)})},l=({red:d,green:u,blue:c,alpha:h,hue:m,saturation:f,value:y},N="onChange")=>{d=b(d,e.colorRed),u=b(u,e.colorGreen),c=b(c,e.colorBlue),h=b(h,e.colorAlpha),m=b(m,e.colorHue),f=b(f,e.colorSaturation),y=b(y,e.colorValue);const C=e.gradientPoints.slice();C[e.activePointIndex]={...C[e.activePointIndex],red:d,green:u,blue:c,alpha:h},e.colorRed=d,e.colorGreen=u,e.colorBlue=c,e.colorAlpha=h,e.colorHue=m,e.colorSaturation=f,e.colorValue=y,e.gradientPoints=C;const _=e.actions[N];_&&_({points:C,type:e.gradientType,degree:e.gradientDegree,style:E(C,e.gradientType,e.gradientDegree)})},p=(d,u,c="onChange")=>{e.gradientPoints[u].left=d;const h=e.actions[c];h&&h({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)})},g=d=>{e.gradientPoints.push({...e.gradientPoints[e.activePointIndex],left:d}),e.activePointIndex=e.gradientPoints.length-1,t.onChange&&t.onChange({points:e.gradientPoints,type:e.gradientType,degree:e.gradientDegree,style:E(e.gradientPoints,e.gradientType,e.gradientDegree)})};return n.onMounted(()=>{const{hue:d,saturation:u,value:c}=k({red:e.colorRed,green:e.colorGreen,blue:e.colorBlue});e.colorHue=d,e.colorSaturation=u,e.colorValue=c,document.addEventListener("keyup",i)}),n.onBeforeUnmount(()=>{document.removeEventListener("keyup",i)}),(d,u)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode($e,{type:e.gradientType,degree:e.gradientDegree,"change-gradient-control":a},null,8,["type","degree"]),n.createVNode(R,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,hue:e.colorHue,saturation:e.colorSaturation,value:e.colorValue,"update-color":l,"is-gradient":!0,type:e.gradientType,degree:e.gradientDegree,points:e.gradientPoints,"active-point-index":e.activePointIndex,"change-gradient-control":a,"change-active-point-index":s,"update-gradient-left":p,"add-point":g,"remove-point":r},null,8,["red","green","blue","alpha","hue","saturation","value","type","degree","points","active-point-index"]),n.createVNode(A,{red:e.colorRed,green:e.colorGreen,blue:e.colorBlue,alpha:e.colorAlpha,"update-color":l},null,8,["red","green","blue","alpha"])],64))}},Se={class:"ui-color-picker"},we=n.defineComponent({name:"ColorPicker"}),Ge=Object.assign(we,{props:{isGradient:{type:Boolean,default:!1},color:{type:Object,default:()=>({red:255,green:0,blue:0,alpha:1,hue:0,saturation:100,value:100})},gradient:{type:Object,default:()=>({type:"linear",degree:0,points:[{left:0,red:0,green:0,blue:0,alpha:1},{left:100,red:255,green:0,blue:0,alpha:1}]})},onChange:{type:Function,default:()=>!1},onStartChange:{type:Function,default:()=>!1},onEndChange:{type:Function,default:()=>!1}},setup(o){const t=o;return(e,r)=>(n.openBlock(),n.createElementBlock("div",Se,[t.isGradient?(n.openBlock(),n.createBlock(Ve,{key:0,points:t.gradient.points,type:t.gradient.type,degree:t.gradient.degree,"on-change":t.onChange,"on-start-change":t.onStartChange,"on-end-change":t.onEndChange},null,8,["points","type","degree","on-change","on-start-change","on-end-change"])):(n.openBlock(),n.createBlock(Ne,{key:1,red:t.color.red,green:t.color.green,blue:t.color.blue,alpha:t.color.alpha,hue:t.color.hue,saturation:t.color.saturation,value:t.color.value,"on-change":t.onChange,"on-start-change":t.onStartChange,"on-end-change":t.onEndChange},null,8,["red","green","blue","alpha","hue","saturation","value","on-change","on-start-change","on-end-change"]))]))}}),Me="";return Ge});
